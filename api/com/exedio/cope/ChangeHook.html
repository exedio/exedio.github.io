<!DOCTYPE HTML>
<html lang="en">
<head>
<!-- Generated by javadoc (17) -->
<title>ChangeHook (exedio persistence)</title>
<meta name="viewport" content="width=device-width, initial-scale=1">
<meta http-equiv="Content-Type" content="text/html; charset=utf-8">
<meta name="description" content="declaration: package: com.exedio.cope, interface: ChangeHook">
<meta name="generator" content="javadoc/ClassWriterImpl">
<link rel="stylesheet" type="text/css" href="../../../stylesheet.css" title="Style">
<script type="text/javascript" src="../../../script.js"></script>
</head>
<body class="class-declaration-page">
<script type="text/javascript">var evenRowColor = "even-row-color";
var oddRowColor = "odd-row-color";
var tableTab = "table-tab";
var activeTableTab = "active-table-tab";
</script>
<noscript>
<div>JavaScript is disabled on your browser.</div>
</noscript>
<div class="flex-box">
<header role="banner" class="flex-header">
<nav role="navigation">
<!-- ========= START OF TOP NAVBAR ======= -->
<div class="top-nav" id="navbar-top">
<div class="skip-nav"><a href="#skip-navbar-top" title="Skip navigation links">Skip navigation links</a></div>
<div class="about-language">exedio persistence</div>
<ul id="navbar-top-firstrow" class="nav-list" title="Navigation">
<li><a href="../../../index.html">Overview</a></li>
<li><a href="package-summary.html">Package</a></li>
<li class="nav-bar-cell1-rev">Class</li>
<li><a href="package-tree.html">Tree</a></li>
<li><a href="../../../help-doc.html#class">Help</a></li>
</ul>
</div>
<div class="sub-nav">
<div>
<ul class="sub-nav-list">
<li>Summary:&nbsp;</li>
<li><a href="#nested-class-summary">Nested</a>&nbsp;|&nbsp;</li>
<li>Field&nbsp;|&nbsp;</li>
<li>Constr&nbsp;|&nbsp;</li>
<li><a href="#method-summary">Method</a></li>
</ul>
<ul class="sub-nav-list">
<li>Detail:&nbsp;</li>
<li>Field&nbsp;|&nbsp;</li>
<li>Constr&nbsp;|&nbsp;</li>
<li><a href="#method-detail">Method</a></li>
</ul>
</div>
</div>
<!-- ========= END OF TOP NAVBAR ========= -->
<span class="skip-nav" id="skip-navbar-top"></span></nav>
</header>
<div class="flex-content">
<main role="main">
<!-- ======== START OF CLASS DATA ======== -->
<div class="header">
<div class="sub-title"><span class="package-label-in-type">Package</span>&nbsp;<a href="package-summary.html">com.exedio.cope</a></div>
<h1 title="Interface ChangeHook" class="title">Interface ChangeHook</h1>
</div>
<section class="class-description" id="class-description">
<dl class="notes">
<dt>All Known Implementing Classes:</dt>
<dd><code><a href="DefaultChangeHook.html" title="class in com.exedio.cope">DefaultChangeHook</a></code></dd>
</dl>
<hr>
<div class="type-signature"><span class="modifiers">public interface </span><span class="element-name type-name-label">ChangeHook</span></div>
<div class="block">ChangeHooks allow to listen to changes of persistent data.
 They are registered via
 <a href="ModelBuilder.html#changeHooks(com.exedio.cope.ChangeHook.Factory...)"><code>ModelBuilder.changeHooks</code></a>
 when creating the model.
 Registering hooks later is not supported.
 <p>
 Methods of hooks are called synchronously when the change actually occurs,
 by the thread that does the change.
 If a method of a hook fails with an exception,
 that exception is "thrown through" to the call causing the change.
 If you want to postpone your action until the current transaction commits,
 use either
 <a href="Model.html#addPreCommitHookIfAbsent(R)"><code>pre</code></a>- or
 <a href="Model.html#addPostCommitHookIfAbsent(R)"><code>post</code></a>-commit hooks.
 <p>
 Note that any <i>new</i> change to persistent data (i.e. other than
 returning modified <code>setValues</code>) done in one of the methods will
 cause this hook to be called again.
 Without care you may end up with infinite recursion.
 <p>
 <b>Synchronization</b><br>
 There is only one instance of the ChangeHook for each model,
 and calls to ChangeHooks are not synchronized.
 If multiple threads concurrently change persistent data,
 then methods of this hook are called concurrently.
 <p>
 It is highly recommended to override <a href="https://docs.oracle.com/javase/8/docs/api/java/lang/Object.html#toString--" title="class or interface in java.lang" class="external-link"><code>toString</code></a>
 with an informative message about the hook.
 This message is returned by <a href="Model.html#getChangeHookString()"><code>Model.getChangeHookString()</code></a>.</div>
<dl class="notes">
<dt>See Also:</dt>
<dd>
<ul class="see-list">
<li><a href="misc/ChangeHooks.html" title="class in com.exedio.cope.misc"><code>ChangeHooks</code></a></li>
</ul>
</dd>
</dl>
</section>
<section class="summary">
<ul class="summary-list">
<!-- ======== NESTED CLASS SUMMARY ======== -->
<li>
<section class="nested-class-summary" id="nested-class-summary">
<h2>Nested Class Summary</h2>
<div class="caption"><span>Nested Classes</span></div>
<div class="summary-table three-column-summary">
<div class="table-header col-first">Modifier and Type</div>
<div class="table-header col-second">Interface</div>
<div class="table-header col-last">Description</div>
<div class="col-first even-row-color"><code>static interface&nbsp;</code></div>
<div class="col-second even-row-color"><code><a href="ChangeHook.Factory.html" class="type-name-link" title="interface in com.exedio.cope">ChangeHook.Factory</a></code></div>
<div class="col-last even-row-color">&nbsp;</div>
</div>
</section>
</li>
<!-- ========== METHOD SUMMARY =========== -->
<li>
<section class="method-summary" id="method-summary">
<h2>Method Summary</h2>
<div id="method-summary-table">
<div class="table-tabs" role="tablist" aria-orientation="horizontal"><button id="method-summary-table-tab0" role="tab" aria-selected="true" aria-controls="method-summary-table.tabpanel" tabindex="0" onkeydown="switchTab(event)" onclick="show('method-summary-table', 'method-summary-table', 3)" class="active-table-tab">All Methods</button><button id="method-summary-table-tab2" role="tab" aria-selected="false" aria-controls="method-summary-table.tabpanel" tabindex="-1" onkeydown="switchTab(event)" onclick="show('method-summary-table', 'method-summary-table-tab2', 3)" class="table-tab">Instance Methods</button><button id="method-summary-table-tab5" role="tab" aria-selected="false" aria-controls="method-summary-table.tabpanel" tabindex="-1" onkeydown="switchTab(event)" onclick="show('method-summary-table', 'method-summary-table-tab5', 3)" class="table-tab">Default Methods</button></div>
<div id="method-summary-table.tabpanel" role="tabpanel" aria-labelledby="method-summary-table-tab0">
<div class="summary-table three-column-summary">
<div class="table-header col-first">Modifier and Type</div>
<div class="table-header col-second">Method</div>
<div class="table-header col-last">Description</div>
<div class="col-first even-row-color method-summary-table method-summary-table-tab2 method-summary-table-tab5"><code>default void</code></div>
<div class="col-second even-row-color method-summary-table method-summary-table-tab2 method-summary-table-tab5"><code><a href="#afterNew(com.exedio.cope.Item)" class="member-name-link">afterNew</a><wbr>(<a href="Item.html" title="class in com.exedio.cope">Item</a>&nbsp;item)</code></div>
<div class="col-last even-row-color method-summary-table method-summary-table-tab2 method-summary-table-tab5">
<div class="block">Is called after any item creation.</div>
</div>
<div class="col-first odd-row-color method-summary-table method-summary-table-tab2 method-summary-table-tab5"><code>default void</code></div>
<div class="col-second odd-row-color method-summary-table method-summary-table-tab2 method-summary-table-tab5"><code><a href="#beforeDelete(com.exedio.cope.Item)" class="member-name-link">beforeDelete</a><wbr>(<a href="Item.html" title="class in com.exedio.cope">Item</a>&nbsp;item)</code></div>
<div class="col-last odd-row-color method-summary-table method-summary-table-tab2 method-summary-table-tab5">
<div class="block">Is called before any item deletion.</div>
</div>
<div class="col-first even-row-color method-summary-table method-summary-table-tab2 method-summary-table-tab5"><code>default <a href="SetValue.html" title="class in com.exedio.cope">SetValue</a>&lt;?&gt;[]</code></div>
<div class="col-second even-row-color method-summary-table method-summary-table-tab2 method-summary-table-tab5"><code><a href="#beforeNew(com.exedio.cope.Type,com.exedio.cope.SetValue%5B%5D)" class="member-name-link">beforeNew</a><wbr>(<a href="Type.html" title="class in com.exedio.cope">Type</a>&lt;?&gt;&nbsp;type,
 <a href="SetValue.html" title="class in com.exedio.cope">SetValue</a>&lt;?&gt;[]&nbsp;setValues)</code></div>
<div class="col-last even-row-color method-summary-table method-summary-table-tab2 method-summary-table-tab5">
<div class="block">Is called before any item creation.</div>
</div>
<div class="col-first odd-row-color method-summary-table method-summary-table-tab2 method-summary-table-tab5"><code>default <a href="SetValue.html" title="class in com.exedio.cope">SetValue</a>&lt;?&gt;[]</code></div>
<div class="col-second odd-row-color method-summary-table method-summary-table-tab2 method-summary-table-tab5"><code><a href="#beforeSet(com.exedio.cope.Item,com.exedio.cope.SetValue%5B%5D)" class="member-name-link">beforeSet</a><wbr>(<a href="Item.html" title="class in com.exedio.cope">Item</a>&nbsp;item,
 <a href="SetValue.html" title="class in com.exedio.cope">SetValue</a>&lt;?&gt;[]&nbsp;setValues)</code></div>
<div class="col-last odd-row-color method-summary-table method-summary-table-tab2 method-summary-table-tab5">
<div class="block">Is called before any item modification.</div>
</div>
</div>
</div>
</div>
</section>
</li>
</ul>
</section>
<section class="details">
<ul class="details-list">
<!-- ============ METHOD DETAIL ========== -->
<li>
<section class="method-details" id="method-detail">
<h2>Method Details</h2>
<ul class="member-list">
<li>
<section class="detail" id="beforeNew(com.exedio.cope.Type,com.exedio.cope.SetValue[])">
<h3>beforeNew</h3>
<div class="member-signature"><span class="modifiers">default</span>&nbsp;<span class="return-type"><a href="SetValue.html" title="class in com.exedio.cope">SetValue</a>&lt;?&gt;[]</span>&nbsp;<span class="element-name">beforeNew</span><wbr><span class="parameters">(<a href="Type.html" title="class in com.exedio.cope">Type</a>&lt;?&gt;&nbsp;type,
 <a href="SetValue.html" title="class in com.exedio.cope">SetValue</a>&lt;?&gt;[]&nbsp;setValues)</span></div>
<div class="block">Is called before any item creation.
 You may change the values of the newly created item
 by returning changed <code>setValues</code>.
 The default implementation does nothing and
 returns <code>setValues</code> unmodified.</div>
</section>
</li>
<li>
<section class="detail" id="afterNew(com.exedio.cope.Item)">
<h3>afterNew</h3>
<div class="member-signature"><span class="modifiers">default</span>&nbsp;<span class="return-type">void</span>&nbsp;<span class="element-name">afterNew</span><wbr><span class="parameters">(<a href="Item.html" title="class in com.exedio.cope">Item</a>&nbsp;item)</span></div>
<div class="block">Is called after any item creation.
 The default implementation does nothing.</div>
<dl class="notes">
<dt>See Also:</dt>
<dd>
<ul class="see-list">
<li><a href="Item.html#afterNewCopeItem()"><code>Item.afterNewCopeItem()</code></a></li>
</ul>
</dd>
</dl>
</section>
</li>
<li>
<section class="detail" id="beforeSet(com.exedio.cope.Item,com.exedio.cope.SetValue[])">
<h3>beforeSet</h3>
<div class="member-signature"><span class="modifiers">default</span>&nbsp;<span class="return-type"><a href="SetValue.html" title="class in com.exedio.cope">SetValue</a>&lt;?&gt;[]</span>&nbsp;<span class="element-name">beforeSet</span><wbr><span class="parameters">(<a href="Item.html" title="class in com.exedio.cope">Item</a>&nbsp;item,
 <a href="SetValue.html" title="class in com.exedio.cope">SetValue</a>&lt;?&gt;[]&nbsp;setValues)</span></div>
<div class="block">Is called before any item modification.
 The default implementation does nothing.</div>
<dl class="notes">
<dt>Parameters:</dt>
<dd><code>setValues</code> - is never null and never empty</dd>
<dt>Returns:</dt>
<dd>must not return null</dd>
<dt>See Also:</dt>
<dd>
<ul class="see-list-long">
<li><a href="Item.html#beforeSetCopeItem(com.exedio.cope.SetValue%5B%5D)"><code>Item.beforeSetCopeItem(SetValue[])</code></a></li>
</ul>
</dd>
</dl>
</section>
</li>
<li>
<section class="detail" id="beforeDelete(com.exedio.cope.Item)">
<h3>beforeDelete</h3>
<div class="member-signature"><span class="modifiers">default</span>&nbsp;<span class="return-type">void</span>&nbsp;<span class="element-name">beforeDelete</span><wbr><span class="parameters">(<a href="Item.html" title="class in com.exedio.cope">Item</a>&nbsp;item)</span></div>
<div class="block">Is called before any item deletion.
 The default implementation does nothing.</div>
<dl class="notes">
<dt>See Also:</dt>
<dd>
<ul class="see-list">
<li><a href="Item.html#beforeDeleteCopeItem()"><code>Item.beforeDeleteCopeItem()</code></a></li>
</ul>
</dd>
</dl>
</section>
</li>
</ul>
</section>
</li>
</ul>
</section>
<!-- ========= END OF CLASS DATA ========= -->
</main>
<footer role="contentinfo">
<hr>
<p class="legal-copy"><small>Maintained by <a href="https://www.exedio.com/" target="_top">exedio</a> Gesellschaft f&uuml;r Softwareentwicklung mbH.</small></p>
</footer>
</div>
</div>
</body>
</html>
